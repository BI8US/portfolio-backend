generator client {
  provider      = "prisma-client-js"
  output        = "../src/generated/prisma"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id         BigInt   @id @default(autoincrement())
  user_name  String   @unique
  email      String   @unique
  password   String
  role       String?
  is_active  Boolean
  created_at DateTime @db.Timestamp(6)
}

model resumes {
  id          BigInt    @id @default(autoincrement())
  resume_name String?
  is_active   Boolean?
  full_name   String?
  email       String?
  phone       String?
  picture     String?
  summary     String?   @db.VarChar(1000)
  created_at  DateTime  @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)

  educations       educations[]
  media_links      media_links[]
  projects         projects[]
  skills           skills[]
  work_experiences work_experiences[]
}

model educations {
  id                 BigInt                       @id @default(autoincrement())
  school             String?
  education_name     String?
  start_date         String?
  end_date           String?
  resume_id          BigInt?
  resume             resumes?                     @relation(fields: [resume_id], references: [id])
  description_points EducationDescriptionPoints[]
}

model EducationDescriptionPoints {
  id                  BigInt     @id @default(autoincrement())
  education_entity_id BigInt
  description_point   String?
  education           educations @relation(fields: [education_entity_id], references: [id])
}

model work_experiences {
  id                 BigInt                            @id @default(autoincrement())
  company            String?
  position           String?
  start_date         String?
  end_date           String?
  resume_id          BigInt?
  resume             resumes?                          @relation(fields: [resume_id], references: [id])
  description_points WorkExperienceDescriptionPoints[]
}

model WorkExperienceDescriptionPoints {
  id                        BigInt           @id @default(autoincrement())
  work_experience_entity_id BigInt
  description_point         String?
  work_experience           work_experiences @relation(fields: [work_experience_entity_id], references: [id])
}

model projects {
  id          BigInt   @id @default(autoincrement())
  title       String?
  sub_title   String?
  description String?
  media       String?
  resume_id   BigInt?
  resume      resumes? @relation(fields: [resume_id], references: [id])
}

model media_links {
  id        BigInt   @id @default(autoincrement())
  name      String?
  link      String?
  resume_id BigInt?
  resume    resumes? @relation(fields: [resume_id], references: [id])
}

model skills {
  id          BigInt   @id @default(autoincrement())
  name        String?
  skill_group String?
  resume_id   BigInt?
  resume      resumes? @relation(fields: [resume_id], references: [id])
}

model job_applications {
  id          BigInt    @id @default(autoincrement())
  link        String?
  contact     String?
  status      String?
  company     String?
  role        String?
  schedule    String?
  description Int?      @db.Oid
  notes       Int?      @db.Oid
  created_at  DateTime  @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
}
